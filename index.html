
<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
    <link rel="stylesheet" type="text/css" href="style.css">
    <title>福州大学电子通行码</title>
</head>

<body onload="loadstr()">
    
    <div class="content">
        <img src="./images/id.jpg" alt="" class="id">
		<input id="school" type="button" onclick="input_school()" value="东环路大门" />
        <input id="name" type="button" onclick="input_name()" value="张志远" />
        <input id="classes" type="button" onclick="input_classes()" value="2018级计算机类03班" />
    </div>
	
    <script>
    function input_school() {
        var schoolname = prompt("输入校区");
        var text = document.getElementById("school", "东环路大门");
        if(schoolname != "" && schoolname != undefined && schoolname != null) {
            text.value = schoolname;
            localStorage.lastschool = schoolname;
        }
    }
    </script>
	
    <script>
    function input_name() {
        var username = prompt("输入姓名");
        var text = document.getElementById("name", "张志远");
        if(username != "" && username != undefined && username != null) {
            text.value = username;
            localStorage.lastusername = username;
        }
    }
    </script>
    <script>
    function input_classes() {
        var classes = prompt("输入班级");
        var text = document.getElementById("classes", "2017级计算机类08班");
        if(classes != "" && classes != undefined && classes != null) {
            text.value = classes;
            localStorage.lastclasses = classes;
        }
    }
    </script>
    
    <script>
        function loadstr() {
            var text1 = document.getElementById("name");
            var text2 = document.getElementById("classes");
            if(localStorage.lastusername != null)
                text1.value = localStorage.lastusername;
            if(localStorage.lastclasses != null)
                text2.value = localStorage.lastclasses;
        }
    </script>
    
    <div class="qr">
        <div id="day"></div>
        <div id="second"></div>
        <div id="time"></div>
        <img src="./images/qrcode.jpg" alt="" id="qrcode">
        <div id="info">
            <img src="./images/inform.png" alt="" id="inform">
            绿码：允许通行，请主动出示，配合核验，并做好自身防护，出行前请确认。</div>
    </div>
    <div class="endline">
        <span class="line"></span>
        <span class="txt"> 福州大学 </span>
        <span class="line"></span>
    </div>

    <script type="text/javascript">
        setInterval("getDate()",1000);
        function getDate(){
            var date = new Date();
            var m =date.getMonth()+1;
            var d = date.getDate(); 
            var h = date.getHours();
            var minute = date.getMinutes();
            if (minute >= 0 && minute <= 9) {
				minute = "0" + m;
            }
            var s = date.getSeconds();

            var day = document.getElementById("day");
            day.innerHTML = m+"月"+d+"日";
            var second = document.getElementById("second")
            second.innerHTML = "  "+s+"  ";
            var time = document.getElementById("time")
            time.innerHTML = h+":"+minute;
        }
        //使用定时器每秒向div写入当前时间
        setInterval("getDate()",1000);
    </script>
</body>
</html>